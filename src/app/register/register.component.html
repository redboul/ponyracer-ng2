<form (ngSubmit)="register()" [formGroup]="userForm">
  <div class="form-group" [class.has-error]="userForm.get('login').invalid && userForm.get('login').dirty">
    <label for="login" id="login-label">Login</label>
    <input id="login" type="text" class="form-control" ngModel required formControlName="login">
    <div *ngIf="userForm.get('login').dirty && userForm.get('login').errors?.minlength" id="login-length-error" class="help-block">
      Your login should be at least 3 characters
    </div>
  </div>
  <div formGroupName="passwordForm">
    <div class="form-group" [class.has-error]="passwordForm.invalid && passwordForm.dirty">
      <label for="password" id="password-label">Password</label>
      <input id="password" type="password" class="form-control" ngModel required formControlName="password">
      <span *ngIf="passwordForm.get('password').invalid && passwordForm.get('password').dirty" id="warningPassword" class="help-block">Password is required</span>
      <span *ngIf="passwordForm.hasError('matchingError') && passwordForm.get('password').dirty" id="password-matching-error" class="help-block">Your password does not match</span>
    </div>
    <div class="form-group" [class.has-error]="passwordForm.get('confirmPassword').invalid && passwordForm.get('confirmPassword').dirty">
      <label for="confirmPassword" id="confirmPassword-label">Confirm Password</label>
      <input id="confirmPassword" type="password" class="form-control" ngModel required formControlName="confirmPassword">
    </div>
  </div>
  <div class="form-group" [class.has-error]="userForm.get('birthYear').invalid && userForm.get('birthYear').dirty">
    <label for="birthYear" id="birthYear-label">Birth year</label>
    <input id="birthYear" type="number" class="form-control" ngModel required formControlName="birthYear">
    <span *ngIf="userForm.get('birthYear').hasError('required') && userForm.get('birthYear').dirty" id="warningBirthYear" class="help-block">Birth year is required</span>
    <span *ngIf="userForm.get('birthYear').dirty && userForm.get('birthYear').hasError('invalidYear')" id="invalid-year-error" class="help-block">This is not a valid year</span>
  </div>
  <button type="submit" [disabled]="!userForm.valid" class="btn btn-default">Let's go!</button>
  <div *ngIf="registrationFailed" id="registration-error" class="help-block">Try again with another login...</div>
</form>